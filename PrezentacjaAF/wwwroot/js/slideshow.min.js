$(document).ready(function(){function f(t){typeof t=="undefined"&&(t=$(".fp-slide.active audio"));$.getCookie("muted")==="false"&&(t[0].volume=0,t[0].play(),t.animate({volume:.5},2e3),clearTimeout(n),n=setTimeout(function(){r(t)},t[0].duration*1e3-500))}function r(t){typeof t=="undefined"&&(t=$(".fp-slide.active audio"));t.animate({volume:0},500,function(){t[0].pause();t[0].currentTime=0});clearTimeout(n)}function e(n){$("#slidethumb-"+(n+1)).addClass("active");$("#slidesNav").animate({scrollLeft:$("#slidesNav").scrollLeft()+$("#slidethumb-"+(n+1)).position().left-$("#slidesNav").width()/2+$("#slidethumb-"+(n+1)).width()/2},500)}function u(){clearTimeout(t);$.getCookie("slideshow")==="true"&&(t=setTimeout(function(){$.fn.fullpage.moveSlideRight()},parseInt($("#slideLength").val())==0?i:parseInt($("#slideLength").val())))}var n,t,i=1e4;$("#muteButton").get(0).addEventListener("click",function(){$.getCookie("muted")==="false"?($(this).removeClass("active"),f()):($(this).addClass("active"),r())});$("#slideshowButton").get(0).addEventListener("click",function(){$.getCookie("slideshow")==="true"?$(this).removeClass("active"):$(this).addClass("active");u()});$("#slideLength").get(0).addEventListener("change",function(){u()});$(".photo").each(function(n,t){$(t).on("load",function(){var n=$(this);n.parent().find("#loader").fadeOut(function(){n.fadeIn();f(n.parent().find(".audio"))})})});$("#fullpage").fullpage({verticalCentered:!0,fitToSection:!0,anchors:["mainSection"],afterLoad:function(n,t){var r=$(this),u=r.find(".photo");i=r.find("#slideDuration").val()*1e3;u[0].complete&&u.trigger("load");e(t-1)},afterSlideLoad:function(n,t,r,f){var o=$(this),s=o.find(".photo");i=o.find("#slideDuration").val()*1e3;s[0].complete&&s.trigger("load");e(f);u()},onSlideLeave:function(n,i,u){var f=$(this);f.find(".photo").get(0).getAttribute("src")&&(f.find(".photo").get(0).setAttribute("data-src",f.find(".photo").get(0).getAttribute("src")),f.find(".photo").get(0).removeAttribute("src"));r(f.find(".audio"));f.find(".photo").fadeOut(function(){f.find("#loader").fadeIn()});$("#slidethumb-"+(u+1)).removeClass("active");clearTimeout(t)}})});